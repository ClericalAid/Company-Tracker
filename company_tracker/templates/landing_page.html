<!DOCTYPE html>
<html lang="en">
  {% include "bootstrap_loader.html" %}

  <head>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <script>
      $(document).ready(function(){
        $('#myTable').DataTable({
          "initComplete": function(settings, json){
            $('#myTable').removeClass("invisible");
          }
        });
      });
    </script>
  </head>

  {% include "navbar.html"%}
  {% include "jumbotron.html" %}

  <!--
  Data table of all the companies
  -->
  <div class="container">
    <table id="myTable" class="table table-striped invisible">
      <thead>
        <tr>
          <th scope="col">Company</th>
          <th scope="col">Website</th>
          <th scope="col">Glassdoor Rating</th>
          <th scope="col">Weighted Rating</th>
        </tr>
      </thead>
      <!--
      A loop in order to display all of the companies and their corresponding information
      -->
      <tbody>
        {% for company in company_list %}
        <tr>
          <td>{{company.name}}</td>
          <td>{{company.website}}</td>
          <td>{{company.rating}}</td>
          <td>{{company.weightedRating | floatformat:2}}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</html>
